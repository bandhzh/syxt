webpackJsonp([4],{295:function(s,t,e){e(399);var a=e(1)(e(374),e(387),null,null);s.exports=a.exports},374:function(s,t,e){"use strict";t.__esModule=!0,t.default={mounted:function(){this.$store.dispatch("markSysMsgRead"),this.$store.dispatch("markCustomSysMsgRead")},updated:function(){this.$store.dispatch("markSysMsgRead"),this.$store.dispatch("markCustomSysMsgRead")},data:function(){return{sysType:0}},computed:{userInfos:function(){return this.$store.state.userInfos},sysMsgs:function(){var s=this;return this.$store.state.sysMsgs.filter(function(t){switch(t.type){case"addFriend":return t.showText=(t.friend.alias||t.friend.account)+" 添加您为好友~",t.avatar=s.userInfos[t.from].avatar,!0;case"deleteFriend":return t.showText=t.from+" 将您从好友中删除",t.avatar=s.userInfos[t.from].avatar,!1}return!1})},customSysMsgs:function(){var s=this;return this.$store.state.customSysMsgs.filter(function(t){if("p2p"===t.scene){var e=JSON.parse(t.content);return t.showText=""+e.content,t.avatar=s.userInfos[t.from].avatar,t}return!1})}},methods:{clearMsgs:function(){this.$store.dispatch("resetSysMsgs",{type:this.sysType})}}},s.exports=t.default},376:function(s,t,e){t=s.exports=e(4)(void 0),t.push([s.i,".p-sysmsgs .u-list{height:100%;overflow-y:scroll}.p-sysmsgs p{word-wrap:normal;word-break:break-all;color:#333}",""])},387:function(s,t){s.exports={render:function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("div",{staticClass:"g-inherit m-article"},[e("x-header",{staticClass:"m-tab",attrs:{"left-options":{backText:" "}}},[e("button-tab",{staticClass:"m-tab-top",model:{value:s.sysType,callback:function(t){s.sysType=t},expression:"sysType"}},[e("button-tab-item",{staticClass:"u-tab-top"},[s._v("系统消息")]),s._v(" "),e("button-tab-item",{staticClass:"u-tab-top"},[s._v("自定义消息")])],1),s._v(" "),e("a",{slot:"left"}),s._v(" "),e("a",{on:{click:function(t){t.stopPropagation(),s.clearMsgs(t)}},slot:"right"},[s._v("清空")])],1),s._v(" "),e("div",{staticClass:"m-article-main p-sysmsgs"},[0===s.sysType?e("group",{staticClass:"u-list"},s._l(s.sysMsgs,function(s){return e("cell",{key:s.idServer,staticClass:"u-list-item",attrs:{title:s.showText,value:s.showTime}},[e("img",{staticClass:"icon",attrs:{width:"24",src:s.avatar},slot:"icon"})])})):s._e(),s._v(" "),1===s.sysType?e("group",{staticClass:"u-list"},s._l(s.customSysMsgs,function(s,t){return e("cell",{key:s.idServer,staticClass:"u-list-item",attrs:{title:s.showText,value:s.showTime}},[e("img",{staticClass:"icon",attrs:{width:"24",src:s.avatar},slot:"icon"})])})):s._e()],1)],1)},staticRenderFns:[]}},399:function(s,t,e){var a=e(376);"string"==typeof a&&(a=[[s.i,a,""]]),a.locals&&(s.exports=a.locals);e(5)("d7900f78",a,!0)}});